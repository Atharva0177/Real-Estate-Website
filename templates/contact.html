{% extends 'base.html' %}

{% block title %}Contact Us - Premium Real Estate{% endblock %}

{% block extra_css %}
<style>
.contact-hero {
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  color:#fff;
  padding:4rem 0 3rem;
  margin-top:70px;
}
.contact-hero h1 {font-size:2.5rem;margin:0 0 .8rem;font-weight:700;}
.contact-hero p {font-size:1.05rem;opacity:.9;margin:0;}

.contact-main {padding:3rem 0;background:#f5f6fa;}
.contact-wrapper {
  display:grid;grid-template-columns:1.2fr 1fr;gap:2rem;max-width:1200px;margin:0 auto;
}
@media (max-width:992px){.contact-wrapper{grid-template-columns:1fr}}
.contact-info-card, .contact-form-card {
  background:#fff;border-radius:20px;padding:2rem;box-shadow:0 5px 20px rgba(0,0,0,.08);
}
.contact-info-card h2, .contact-form-card h2 {
  font-size:1.6rem;margin:0 0 1rem;color:#2c3e50;font-weight:600;display:flex;align-items:center;gap:.6rem;
}
.contact-info-card p {color:#555;font-size:.9rem;line-height:1.6;margin:0 0 1.2rem;}

.info-items {display:grid;gap:1rem;}
.info-box {
  display:flex;gap:1rem;background:#f7f9fc;padding:1rem;border-radius:15px;align-items:flex-start;
}
.info-box-icon {
  width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg,#667eea,#764ba2);
  display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.25rem;flex-shrink:0;
}
.info-box-content h4 {margin:0 0 .3rem;font-size:.95rem;color:#2c3e50;}
.info-box-content span, .info-box-content a {display:block;font-size:.75rem;color:#555;text-decoration:none;word-break:break-word;}
.info-box-content a:hover {color:#667eea;text-decoration:underline;}

.social-mini {display:flex;gap:.6rem;margin-top:.6rem;}
.social-mini a {
  width:34px;height:34px;border-radius:10px;background:#eef1f6;display:flex;align-items:center;justify-content:center;
  color:#444;font-size:.9rem;transition:.3s;text-decoration:none;
}
.social-mini a:hover {background:#667eea;color:#fff;}

.contact-form-card p {color:#555;font-size:.9rem;line-height:1.5;margin:.2rem 0 1.2rem;}
.contact-form {display:flex;flex-direction:column;gap:1rem;}
.form-row {display:grid;grid-template-columns:1fr 1fr;gap:1rem;}
@media (max-width:640px){.form-row{grid-template-columns:1fr}}

.contact-form .form-group {display:flex;flex-direction:column;}
.contact-form label {
  font-size:.8rem;font-weight:600;color:#2c3e50;margin-bottom:.4rem;display:flex;align-items:center;gap:.4rem;
}
.contact-form .form-control {
  width:100%;padding:.85rem .9rem;border:2px solid #d9dde3;border-radius:12px;font-family:inherit;
  font-size:.85rem;transition:.25s;background:#fff;
}
.contact-form .form-control:focus {
  outline:none;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.18);
}
.contact-form textarea.form-control {min-height:140px;resize:vertical;line-height:1.5;}

.btn-submit {
  background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:14px;
  padding:.95rem 1.4rem;font-weight:600;font-size:.85rem;display:inline-flex;align-items:center;gap:.6rem;
  cursor:pointer;transition:.3s;
}
.btn-submit:hover {filter:brightness(1.07);transform:translateY(-2px);}

.map-section {margin:3.5rem 0 0;}
.map-container {
  height:500px;border-radius:25px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.1);
  background:#eef1f6;
}
/* Leaflet map sizing */
#contactMap { width: 100%; height: 500px; }

.cta-section {padding:4rem 0;background:#fff;}
.cta-box {
  max-width:1050px;margin:0 auto;background:linear-gradient(135deg,#667eea,#764ba2);
  color:#fff;padding:3rem 2rem;border-radius:25px;display:flex;flex-direction:column;align-items:center;text-align:center;
  box-shadow:0 15px 50px rgba(102,126,234,.35);
}
.cta-box h2 {margin:0 0 1rem;font-size:2rem;font-weight:700;}
.cta-box p {margin:0 0 2rem;font-size:.95rem;max-width:680px;line-height:1.6;opacity:.95;}
.cta-actions {display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;}
.cta-btn {
  background:#fff;color:#667eea;padding:.9rem 1.4rem;border-radius:14px;font-size:.85rem;font-weight:600;
  text-decoration:none;display:inline-flex;align-items:center;gap:.5rem;transition:.3s;
}
.cta-btn:hover {background:#f0f2f6;}
.cta-btn.secondary {background:#2c3e50;color:#fff;}
.cta-btn.secondary:hover {background:#1b2732;}

@media (max-width:768px){
  .contact-hero {padding:3rem 0 2.4rem;}
  .contact-hero h1 {font-size:2.1rem;}
  .contact-wrapper {padding:0 1rem;}
  .contact-info-card, .contact-form-card {padding:1.5rem;}
  #contactMap {height:380px;}
  .cta-box {padding:2.4rem 1.6rem;}
  .cta-box h2 {font-size:1.7rem;}
  .form-row {grid-template-columns:1fr;}
}
@media (max-width:480px){
  .contact-hero h1 {font-size:1.9rem;}
  #contactMap {height:320px;}
  .cta-box h2 {font-size:1.5rem;}
  .cta-actions {flex-direction:column;}
}

/* Fade animation */
.fade-in-up {animation:fadeInUp .6s both;}
@keyframes fadeInUp {
  0% {opacity:0;transform:translateY(18px);}
  100% {opacity:1;transform:translateY(0);}
}
</style>
{% endblock %}

{% block content %}
<section class="contact-hero">
  <div class="container fade-in-up">
    <h1>Get In <span class="highlight">Touch</span></h1>
    <p>We're here to help you find your dream property</p>
  </div>
</section>

<section class="contact-main">
  <div class="container">
    <div class="contact-wrapper">
      <!-- Info Card -->
      <div class="contact-info-card fade-in-up">
        <h2><i class="fas fa-handshake"></i> Let's Connect</h2>
        <p>Have questions? Reach out through any channel below and our team will respond promptly.</p>

        <div class="info-items">
          <div class="info-box">
            <div class="info-box-icon"><i class="fas fa-map-marker-alt"></i></div>
            <div class="info-box-content">
              <h4>Office Address</h4>
              <span>Premium Estate, Mumbai, Maharashtra, India</span>
            </div>
          </div>

          <div class="info-box">
            <div class="info-box-icon"><i class="fas fa-phone"></i></div>
            <div class="info-box-content">
              <h4>Phone</h4>
              <a href="tel:+919876543210">+91 98765 43210</a>
              <a href="tel:+919812345678">+91 98123 45678</a>
            </div>
          </div>

          <div class="info-box">
            <div class="info-box-icon"><i class="fas fa-envelope"></i></div>
            <div class="info-box-content">
              <h4>Email</h4>
              <a href="mailto:info@premiumestate.com">info@premiumestate.com</a>
              <a href="mailto:sales@premiumestate.com">sales@premiumestate.com</a>
            </div>
          </div>

          <div class="info-box">
            <div class="info-box-icon"><i class="fas fa-clock"></i></div>
            <div class="info-box-content">
              <h4>Hours</h4>
              <span>Mon - Sat: 9:00 AM - 7:00 PM</span>
              <span>Sun: Closed</span>
            </div>
          </div>
        </div>

        <div style="margin-top:1.3rem;">
          <h4 style="margin:0 0 .6rem;font-size:.9rem;color:#2c3e50;font-weight:600;">Follow Us</h4>
          <div class="social-mini">
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
      </div>

      <!-- Form Card -->
      <div class="contact-form-card fade-in-up">
        <h2><i class="fas fa-paper-plane"></i> Send Us A Message</h2>
        <p>Fill out the form and we will get back to you as soon as possible.</p>

        <form method="post" action="{{ url_for('submit_enquiry') }}" class="contact-form">
          {{ form.hidden_tag() }}

          <div class="form-row">
            <div class="form-group">
              <label><i class="fas fa-user"></i> Full Name</label>
              {{ form.name(class="form-control", placeholder="John Doe") }}
            </div>
            <div class="form-group">
              <label><i class="fas fa-envelope"></i> Email Address</label>
              {{ form.email(class="form-control", placeholder="john@example.com") }}
            </div>
          </div>

          <div class="form-group">
            <label><i class="fas fa-phone"></i> Phone Number</label>
            {{ form.phone(class="form-control", placeholder="+91 98765 43210") }}
          </div>

          <div class="form-group">
            <label><i class="fas fa-comment"></i> Your Message</label>
            {{ form.message(class="form-control", rows="6", placeholder="Tell us about your requirements...") }}
          </div>

          <button type="submit" class="btn-submit">
            <i class="fas fa-paper-plane"></i> Send Message
          </button>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Map Section (OpenStreetMap via Leaflet) -->
<section class="map-section">
  <div class="container fade-in-up">
    <div id="contactMap" class="map-container"></div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="container">
    <div class="cta-box fade-in-up">
      <h2>Ready to Discover Premium Properties?</h2>
      <p>Explore exclusive plots and land investments curated by our expert team. Book a site visit, set property alerts, or reach out for personalized guidance.</p>
      <div class="cta-actions">
        <a href="{{ url_for('properties') }}" class="cta-btn"><i class="fas fa-search"></i> Browse Properties</a>
        {% if not session.user_id %}
          <a href="{{ url_for('user_register') }}" class="cta-btn secondary"><i class="fas fa-user-plus"></i> Create Account</a>
        {% else %}
          <a href="{{ url_for('user_dashboard') }}" class="cta-btn secondary"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<!-- Leaflet (OpenStreetMap) -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""
/>
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
></script>

<script>
window.addEventListener('load', function(){
  const el = document.getElementById('contactMap');
  if(!el || !window.L) return;

  // Default center: Mumbai
  const center = [19.0760, 72.8777];
  const map = L.map(el, { scrollWheelZoom: false }).setView(center, 11);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  L.marker(center).addTo(map).bindPopup('Premium Estate HQ');
});
</script>
{% endblock %}